<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lilith's Lucky Number Simulator</title>
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Lilith's Lucky Number Simulator">
    <meta property="og:description" content="ÅanslÄ± sayÄ±larÄ±nÄ±zÄ± belirlemek iÃ§in Ã§eÅŸitli zar yÃ¶ntemlerini deneyin!">
    <meta property="og:image" content="liliths-opengraph-image.png">
    <meta property="og:url" content="https://metatronslove.github.io/sayiya-zar-at/">
    <meta property="og:type" content="website">
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Lilith's Lucky Number Simulator">
    <meta name="twitter:description" content="ÅanslÄ± sayÄ±larÄ±nÄ±zÄ± belirlemek iÃ§in Ã§eÅŸitli zar yÃ¶ntemlerini deneyin!">
    <meta name="twitter:image" content="liliths-opengraph-image.png">
    <style>
        body {
            background: #1e1e1e;
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
            padding: 20px;
        }
        #terminal {
            background: #252525;
            border: 1px solid #444;
            padding: 20px;
            height: 60vh;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        .success { color: #4CAF50; }
        .error { color: #F44336; }
        .warning { color: #FFEB3B; }
        .info { color: #00BCD4; }
        .highlight { background-color: #2196F3; color: white; padding: 0 5px; }
        .button-container {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        button {
            background: #9C27B0;
            color: white;
            border: none;
            padding: 10px 20px;
            font-family: inherit;
            cursor: pointer;
            flex: 1;
        }
        button:disabled { opacity: 0.5; cursor: not-allowed; }
        select {
            background: #333;
            color: white;
            border: 1px solid #444;
            padding: 10px;
            font-family: inherit;
            margin-bottom: 10px;
            width: 100%;
        }
        .box-title {
            white-space: nowrap;
            padding: 0 10px;
        }
    </style>
</head>
<body>
    <h1>ğŸ”® Lilith's Lucky Number Simulator</h1>

    <select id="methodSelect">
        <option value="double6">Klasik 6-6 YÃ¶ntemi</option>
        <option value="sum7">Toplam 7 YÃ¶ntemi</option>
        <option value="triple">ArdÄ±ÅŸÄ±k 3 Zar YÃ¶ntemi</option>
        <option value="fibonacci">Fibonacci YÃ¶ntemi</option>
        <option value="prime">Asal SayÄ± YÃ¶ntemi</option>
    </select>

    <div class="button-container">
        <button id="singleBtn">SayÄ±lar Ä°Ã§in Zar At!</button>
        <button id="analyzeBtn">480 Deney BaÅŸlat</button>
    </div>

    <div id="terminal"></div>

    <script>
        const terminal = document.getElementById('terminal');
        const singleBtn = document.getElementById('singleBtn');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const methodSelect = document.getElementById('methodSelect');

        let isRunning = false;

        function printTerminal(text, className = '') {
            const line = document.createElement('div');
            line.className = `output ${className}`;
            line.innerHTML = text;
            terminal.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
        }

        function createBox(title, contentLines) {
            // BaÅŸlÄ±k uzunluÄŸunu hesapla (HTML etiketlerini Ã§Ä±kararak)
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = title;
            const titleLength = tempDiv.textContent.length;

            // Kutu geniÅŸliÄŸini belirle (baÅŸlÄ±k + 10 karakter padding)
            const boxWidth = Math.max(titleLength + 10, 30);
            const horizontalLine = 'â•'.repeat(boxWidth - 2);

            // Kutu Ã¼st kÄ±smÄ±
            let box = `<span class="info">â•”${horizontalLine}â•—</span><br>`;

            // BaÅŸlÄ±k satÄ±rÄ± (ortalanmÄ±ÅŸ)
            const padding = Math.max(Math.floor((boxWidth - titleLength - 4) / 2), 0);
            const leftSpaces = '&nbsp;'.repeat(padding);
            const rightSpaces = '&nbsp;'.repeat(boxWidth - titleLength - 4 - padding);

            box += `<span class="info">â•‘${leftSpaces}<span class="box-title">${title}</span>${rightSpaces}â•‘</span><br>`;

            // Kutu alt kÄ±smÄ±
            box += `<span class="info">â•š${horizontalLine}â•</span>`;

            return box;
        }

        function rollDice() {
            return Math.floor(Math.random() * 6) + 1;
        }

        function isLuckyNumber(method, diceResults) {
            switch(method) {
                case 'double6':
                    return diceResults[0] === 6 && diceResults[1] === 6;
                case 'sum7':
                    return diceResults[0] + diceResults[1] === 7;
                case 'triple':
                    return diceResults.length === 3 &&
                           diceResults[0] === diceResults[1] &&
                           diceResults[1] === diceResults[2];
                case 'fibonacci':
                    const fibNumbers = [1, 2, 3, 5];
                    return fibNumbers.includes(diceResults[0]) &&
                           fibNumbers.includes(diceResults[1]);
                case 'prime':
                    const primes = [2, 3, 5];
                    return primes.includes(diceResults[0]) &&
                           primes.includes(diceResults[1]);
                default:
                    return false;
            }
        }

        function getDiceCountForMethod(method) {
            return method === 'triple' ? 3 : 2;
        }

        function getMethodDescription(method) {
            const descriptions = {
                'double6': 'Her sayÄ± iÃ§in 2 zar atÄ±lÄ±yor. 6-6 gelirse ÅŸanslÄ± kabul ediliyor...',
                'sum7': 'Her sayÄ± iÃ§in 2 zar atÄ±lÄ±yor. ToplamlarÄ± 7 olursa ÅŸanslÄ± kabul ediliyor...',
                'triple': 'Her sayÄ± iÃ§in 3 zar atÄ±lÄ±yor. ÃœÃ§Ã¼ de aynÄ± gelirse ÅŸanslÄ± kabul ediliyor...',
                'fibonacci': 'Her sayÄ± iÃ§in 2 zar atÄ±lÄ±yor. SonuÃ§lar Fibonacci sayÄ±sÄ± (1,2,3,5) ise ÅŸanslÄ± kabul ediliyor...',
                'prime': 'Her sayÄ± iÃ§in 2 zar atÄ±lÄ±yor. SonuÃ§lar asal sayÄ± (2,3,5) ise ÅŸanslÄ± kabul ediliyor...'
            };
            return descriptions[method] || '';
        }

        async function findLuckyNumbers() {
            isRunning = true;
            singleBtn.disabled = true;
            analyzeBtn.disabled = true;

            const method = methodSelect.value;
            const diceCount = getDiceCountForMethod(method);
            const luckyNumbers = new Set();
            let tur = 0;

            printTerminal(`<span class="info">â˜…â˜†â˜… ÅanslÄ± SayÄ± SimÃ¼latÃ¶rÃ¼ (${methodSelect.options[methodSelect.selectedIndex].text}) â˜…â˜†â˜…</span>`);
            printTerminal(`<span class="warning">${getMethodDescription(method)}</span>`);

            while (luckyNumbers.size < 7) {
                tur++;
                printTerminal(`<span class="info">\nâ³ Tur ${tur}:</span>`);

                for (let num = 1; num <= 90; num++) {
                    if (luckyNumbers.has(num)) continue;

                    const diceResults = [];
                    for (let i = 0; i < diceCount; i++) {
                        diceResults.push(rollDice());
                    }

                    const isLucky = isLuckyNumber(method, diceResults);

                    printTerminal(
                        `SayÄ± ${num}: <span class="${isLucky ? 'success' : 'error'}">${diceResults.join('-')}</span>`
                    );

                    if (isLucky) {
                        luckyNumbers.add(num);
                        printTerminal(`<span class="success">ğŸ‰ ÅanslÄ± sayÄ±: <span class="highlight">${num}</span></span>`);
                        if (luckyNumbers.size === 7) break;
                    }
                    await new Promise(resolve => setTimeout(resolve, 30));
                }
            }

            // SonuÃ§lar
            const boxTitle = `ÅANS LÄ°STESÄ° (${methodSelect.options[methodSelect.selectedIndex].text})`;
            printTerminal(createBox(boxTitle, ''));

            Array.from(luckyNumbers).sort((a, b) => a - b).forEach((num, i) => {
                printTerminal(`<span class="warning">${i+1}. <span class="highlight">${num}</span></span>`);
            });

            printTerminal(`<span class="success">\nâœ¨ Toplam ${tur} turda 7 ÅŸanslÄ± sayÄ± bulundu!</span>`);
            isRunning = false;
            singleBtn.disabled = false;
            analyzeBtn.disabled = false;
        }

        async function analyzeExperiments() {
            if (isRunning) return;
            isRunning = true;
            singleBtn.disabled = true;
            analyzeBtn.disabled = true;

            const method = methodSelect.value;
            const frequencyMap = new Map();

            // 1-90 arasÄ± tÃ¼m sayÄ±larÄ± frekans haritasÄ±na ekle
            for (let i = 1; i <= 90; i++) {
                frequencyMap.set(i, 0);
            }

            terminal.innerHTML = `<span class="info">â˜…â˜†â˜… 480 deney baÅŸlatÄ±ldÄ± (${methodSelect.options[methodSelect.selectedIndex].text}) â˜…â˜†â˜…</span>`;

            for (let i = 1; i <= 480; i++) {
                if (i % 40 === 0) {
                    printTerminal(`<span class="warning">â³ ${i}. deney tamamlandÄ±...</span>`);
                    await new Promise(r => setTimeout(r, 10));
                }

                const currentExperiment = singleExperiment(method);
                currentExperiment.forEach(num => {
                    frequencyMap.set(num, frequencyMap.get(num) + 1);
                });
            }

            // En Ã§ok geÃ§en 7 sayÄ±
            const sortedResults = Array.from(frequencyMap.entries())
                .sort((a, b) => b[1] - a[1])
                .slice(0, 7);

            // SonuÃ§larÄ± gÃ¶ster
            printTerminal(createBox('LILITH\'S LUCKY SET', ''));

            sortedResults.forEach(([num, freq], index) => {
                printTerminal(`<span class="warning">${index + 1}. ${num} (Frekans: <span class="success">${freq}</span>)</span>`);
            });

            isRunning = false;
            singleBtn.disabled = false;
            analyzeBtn.disabled = false;
        }

        function singleExperiment(method) {
            const luckyNumbers = new Set();
            const diceCount = getDiceCountForMethod(method);

            while (luckyNumbers.size < 7) {
                for (let num = 1; num <= 90; num++) {
                    if (luckyNumbers.has(num)) continue;

                    const diceResults = [];
                    for (let i = 0; i < diceCount; i++) {
                        diceResults.push(rollDice());
                    }

                    if (isLuckyNumber(method, diceResults)) {
                        luckyNumbers.add(num);
                        if (luckyNumbers.size === 7) break;
                    }
                }
            }
            return Array.from(luckyNumbers).sort((a, b) => a - b);
        }

        singleBtn.addEventListener('click', () => {
            terminal.innerHTML = '';
            findLuckyNumbers();
        });

        analyzeBtn.addEventListener('click', () => {
            terminal.innerHTML = '';
            analyzeExperiments();
        });
    </script>
</body>
</html>